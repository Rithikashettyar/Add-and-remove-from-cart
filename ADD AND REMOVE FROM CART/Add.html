<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/5c48b76190.js" crossorigin="anonymous"></script>
</head>

<body>
    <div class="header">
        <p class="LOGO">RS Electronics</p>
        <div class="cart"><i class="fa-solid fa-cart-shopping"></i>
            <p id="count">0</p>
        </div>
    </div>
    <div class="container">
        <div id="root"></div>
        <div class="sidebar">
            <div class="head">My Cart</div>
            <div class="items" id="cartItem" >Your Cart is Empty</div>
            <div class="end">
                <h3>Total</h3>
                <h2 id="total">â‚¹ 0.00</h2>
            </div>
            <button id="checkoutBtn" class="checkout-btn" href="checkout.html">Checkout</button>
        </div>
    </div>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: sans-serif;
            font-size: 18px;
        }

        body {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        .header {
            height: 80px;
            width: 70%;
            background-color: goldenrod;
            border-radius: 3px;
            margin: 30px 0px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px;
        }

        .header .LOGO {
            font-size: 30px;
            font-weight: bold;
            color: white;
        }

        .cart {
            display: flex;
            background-color: white;
            justify-content: space-between;
            align-items: center;
            border-radius: 5px;
            width: 80px;
            height: 80%;
        }

        .cart i {
            color: goldenrod;
            margin-left: 10px;
        }

        .cart p {
            height: 22px;
            width: 22px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 22px;
            background-color: goldenrod;
            color: white;
            margin-right: 10px;
            margin-top: 10px;
        }

        .container {
            display: flex;
            width: 60%;
            justify-content: space-between;
            margin: 0 auto;
        }

        #root {
            display: grid;
            width: 70px;
            grid-template-columns: repeat(2, 1fr);
        }

        .sidebar {
            width: 40%;
            border-radius: 5px;
            background-color: #eee;
            margin-left:20px;
            padding: 15px;
            text-align: center;
        }

        .head {
            background-color: goldenrod;
            border-radius: 3px;
            height: 40px;
            margin-bottom: 20px;
            color: white;
            font-weight: 600;
            padding-top: 10px;
            display: flex;
        }

        .end {
            display: flex;
            justify-content: space-between;
            margin: 20px 0px;
            padding: 10px 0px;
            border-top: 1px solid #333;
        }

        .box {
            width: 48%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            border: 1px solid goldenrod;
            border-radius: 5px;
            padding: 15px;
            background-color: #fff;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .box:hover {
            transform: scale(1.03);
        }

        .img-box {
            width: 100%;
            height: 180px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .images {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        .bottom {
            margin-top: 20px;
            width: 100%;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
            padding: 10px 0;
        }

        .bottom p {
            font-weight: bold;
            font-size: 16px;
        }

        h2 {
            font-size: 20px;
            color: red;
            margin: 5px 0;
        }

        button {
            width: 100%;
            border: none;
            border-radius: 5px;
            background-color: goldenrod;
            padding: 10px;
            cursor: pointer;
            color: white;
            font-weight: bold;
            transition: background-color 0.2s ease;
        }

        button:hover {
            background-color: #333;
        }

        #root {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: space-between;
            width: 100%;
            padding: 20px;
        }
        .cart-item{
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 10px;
    background-color: white;
    border-bottom: 1px solid #aaa;
    border-radius: 3px;
    margin: 10px 10px;
}
.row-img{
    width: 50px;
    height: 50px;
    border-radius: 50px;
    border: 1px solid goldenrod;
    display: flex;
    align-items: center;
    justify-content: center;
}
.rowimg{
    max-width: 43px;
    max-height: 43px;
    border-radius: 50%;
}
.fa-trash:hover{
    cursor: pointer;
    color: #333;
}
    </style>


    <script>
        const products = [
            {
                id: 0,
                image: 'IMAGES/headphones.jpg',
                title: 'Headphone set of combo',
                price: 2000,
            },
            {
                id: 1,
                image: 'IMAGES/flip-phone.jpg',
                title: 'Foldable Oppo N2 Flip Mobile',
                price: 45000,
            },
            {
                id: 2,
                image: 'IMAGES/Camera.jpg',
                title: '4K Digital Camera with 40x Zoom Dslr Camera',
                price: 350000,
            },
            {
                id: 3,
                image: 'IMAGES/Bluetooth-speaker.jpg',
                title: '5.3 soundbar basic bluetooth speaker',
                price: 3500,
            }
        ];
        // const categories = [...new Set(product.map((item) => { return item }))]
        const categories = [...new Set(products.map((item) => { return item }))]

let i = 0;
document.getElementById('root').innerHTML = categories.map((item) => {
  var { image, title, price } = item;
  return (
    `<div class='box'>
      <div class='img-box'>
        <img class='images' src=${image}></img>
      </div>
      <div class='bottom'>
        <p>${title}</p>
        <h2>$ ${price}.00</h2>` +
        "<button onclick='addtocart(" + (i++) + ")'>Add to cart</button>" +
      `</div>
    </div>`
  )
}).join('')

var cart = [];

function addtocart(a) {
  cart.push({ ...categories[a] });
  displaycart();
}
function delElement(a) {
  cart.splice(a, 1);
  displaycart();
}

function displaycart() {
  let j = 0, total = 0;
  document.getElementById("count").innerHTML = cart.length;
  if (cart.length == 0) {
    document.getElementById('cartItem').innerHTML = "Your cart is empty";
    document.getElementById("total").innerHTML = "$ " + 0 + ".00";
  }
  else {
    document.getElementById("cartItem").innerHTML = cart.map((items) => {
      var { image, title, price } = items;
      total = total + price;
      document.getElementById("total").innerHTML = "$ " + total + ".00";
      return (
        `<div class='cart-item'>
          <div class='row-img'>
            <img class='rowimg' src=${image}>
          </div>
          <p style='font-size:12px;'>${title}</p>
          <h2 style='font-size: 15px;'>$ ${price}.00</h2>` +
        "<i class='fa-solid fa-trash' onclick='delElement(" + (j++) + ")'></i></div>"
      );
    }).join('');
  }
}


    document.getElementById("checkoutBtn").onclick = function () {
        if (cart.length === 0) {
            alert("Your cart is empty!");
        } else {
            // Store cart in localStorage
            localStorage.setItem('cart', JSON.stringify(cart));

            // Redirect to checkout page
            alert("Proceeding to checkout...");
            window.location.href = "checkout.html";
        }
    };

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq"
        crossorigin="anonymous"></script>
</body>
</html>